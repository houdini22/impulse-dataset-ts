(()=>{var t={568:t=>{(()=>{"use strict";var r={d:(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t){var r=function(t,r){if("object"!==o(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(r)?r:String(r)}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,r){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},a(t,r)}function u(t,r){if(r&&("object"===i(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}r.r(e),r.d(e,{Matrix:()=>I,math:()=>F});var f=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal.");if(t.cols!==r.cols)throw new Error("COLS number not equal.");for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=t.data[o][n]/r.data[o][n]}return new I(t.rows,r.cols,e)},l=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=t.data[o][n]/r}return new I(t.rows,t.cols,e)},s=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)r[e][o]=1/(1+Math.exp(-t.data[e][o]))}return I.from(r)},y=function(t,r){for(var e=[],o=0;o<r.rows;o+=1){e[o]=[];for(var n=0;n<r.cols;n+=1)r.data&&(e[o][n]=Math.log(r.data[o][n]+1e-8))}for(var i=k(new I(r.rows,r.cols,e),t),a=[],u=0;u<t.rows;u+=1){a[u]=[];for(var c=0;c<t.cols;c+=1)t.data&&(a[u][c]=1-t.data[u][c])}for(var f=new I(t.rows,t.cols,a),l=[],s=0;s<r.rows;s+=1){l[s]=[];for(var y=0;y<r.cols;y+=1)r.data&&(l[s][y]=Math.log(1-r.data[s][y]+1e-8))}var p=new I(r.rows,r.cols,l);return S(k(x(i,-1),t),k(x(p,-1),E(f,1))).sum()},p=function(t,r){return s(r).multiply(s(r).minusOne())},v=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)r[e][o]=(1-Math.exp(-2*t.data[e][o]))/(1+Math.exp(-2*t.data[e][o]))}return I.from(r)},b=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.max(0,t.data[e][o]))}return new I(t.rows,t.cols,r)},h=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=r.data[o][n]>0?1:0)}return k(new I(t.rows,t.cols,e),t)},d=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.log(1+Math.exp(t.data[e][o])))}return new I(t.rows,t.cols,r)},m=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.pow(t.data[e][o],2))}return new I(t.rows,t.cols,r).sum()},w=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.sqrt(t.data[e][o]+1e-8))}return new I(t.rows,t.cols,r)},g=function(t,r){if(t.cols!==r.rows)throw new Error("DIMENSIONS error. m1.cols ".concat(t.rows," ").concat(t.cols," !== m2.rows ").concat(r.rows," ").concat(r.cols,"."));for(var e=[],o=0;o<t.rows;++o){e[o]=new Array(r.cols);for(var n=0;n<r.cols;++n){e[o][n]=0;for(var i=0;i<t.cols;++i)t.data&&r.data&&(e[o][n]+=t.data[o][i]*r.data[i][n])}}return new I(t.rows,r.cols,e)},S=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal.");if(t.cols!==r.cols)throw new Error("COLS number not equal. m1.cols ".concat(t.cols," !== m2.cols ").concat(r.cols));for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&r.data&&(e[o][n]=t.data[o][n]+r.data[o][n])}return new I(t.rows,t.cols,e)},O=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal: m1.rows ".concat(t.rows," !== m2.rows ").concat(r.rows));if(t.cols!==r.cols)throw new Error("COLS number not equal: m1.cols ".concat(t.cols," !== m2.cols ").concat(r.cols));for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&r.data&&(e[o][n]=t.data[o][n]-r.data[o][n])}return new I(t.rows,t.cols,e)},j=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=(4*Math.random()-2)*Math.sqrt(2/r)}return new I(t.rows,t.cols,e)},P=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)r[e][o]=0}return new I(t.rows,t.cols,r)},k=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal: m1.rows ".concat(t.rows," !== m2.rows ").concat(r.rows));if(t.cols!==r.cols)throw new Error("COLS number not equal: m1.cols ".concat(t.cols," !== m2.cols ").concat(r.cols));for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&r.data&&(e[o][n]=t.data[o][n]*r.data[o][n])}return new I(t.rows,t.cols,e)},x=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=t.data[o][n]*r)}return new I(t.rows,t.cols,e)},E=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=r-t.data[o][n])}return new I(t.rows,t.cols,e)},_=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=Math.pow(t.data[o][n],r))}return new I(t.rows,t.cols,e)},M=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=Math.log(t.data[o][n]+1e-8))}return new I(t.rows,t.cols,e)},T=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=Math.log(1-t.data[o][n]))}return new I(t.rows,t.cols,e)},R=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=t.data[o][n]+r}return new I(t.rows,t.cols,e)},C=function(t){for(var r=[],e=0;e<t.cols;e+=1){r[e]=[];for(var o=0;o<t.rows;o+=1)t.data&&(r[e][o]=t.data[o][e])}return new I(t.cols,t.rows,r)},A=new(function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&a(t,r)}(i,t);var r,e,o,n=(e=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=c(e);if(o){var n=c(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return u(this,t)});function i(){var t;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this)).addKernel("multiply",g),t.addKernel("add",S),t.addKernel("subtract",O),t.addKernel("subtractFromNumber",E),t.addKernel("fillRandom",j),t.addKernel("fillZeros",P),t.addKernel("elementWiseMultiply",k),t.addKernel("multiplyNumber",x),t.addKernel("elementWiseDivide",f),t.addKernel("divideNumber",l),t.addKernel("logisticActivation",s),t.addKernel("logisticLoss",y),t.addKernel("logisticBackpropagation",p),t.addKernel("tanhActivation",v),t.addKernel("reluActivation",b),t.addKernel("reluBackpropagation",h),t.addKernel("softplusActivation",d),t.addKernel("penalty",m),t.addKernel("sqrt",w),t.addKernel("transpose",C),t.addKernel("pow",_),t.addKernel("log",M),t.addKernel("logMinusOne",T),t.addKernel("addNumber",R),t}return r=i,Object.defineProperty(r,"prototype",{writable:!1}),r}(function(){function t(){var r,e,o;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o={},(e=n(e="kernels"))in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o}var r,e;return r=t,e=[{key:"addKernel",value:function(t,r){return this.kernels[t]=r,this}},{key:"execute",value:function(t){if(!this.kernels[t])throw new Error("Kernel '".concat(t,"' not exists."));for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return this.kernels[t].apply(null,e)}}],e&&function(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),t}())),D=function(){return A};function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function B(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function N(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,q(o.key),o)}}function z(t,r,e){return(r=q(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function q(t){var r=function(t,r){if("object"!==K(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==K(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===K(r)?r:String(r)}var I=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;B(this,t),z(this,"rows",0),z(this,"cols",0),z(this,"data",null),this.resize(r,e),o&&this.generateData(o)}var r,e,o;return r=t,e=[{key:"resize",value:function(t,r){this.rows=t,this.cols=r,this.data=new Array(this.rows);for(var e=0;e<this.rows;e+=1)this.data[e]=new Array(this.cols);return this}},{key:"generateData",value:function(t){for(var r=[],e=0;e<this.rows;e+=1)r[e]=new Array(this.cols);for(var o=0;o<this.cols;o+=1)for(var n=0;n<this.rows;n+=1)"number"==typeof t[n]?r[n][o]=t[n]:"string"==typeof t[n][o]&&/^[0-9.]+$/.test(String(t[n][o]))?r[n][o]=Number(t[n][o]):r[n][o]=t[n][o];return this.data=r,this}},{key:"sum",value:function(){for(var t=0,r=0;r<this.rows;r+=1)for(var e=0;e<this.cols;e+=1)t+=this.data[r][e];return t}},{key:"colwiseSum",value:function(){for(var r=[],e=this.transpose(),o=0;o<e.rows;o+=1){r[o]=[0];for(var n=0;n<e.cols;n+=1)r[o][0]+=e.data[o][n]}return new t(this.cols,1,r)}},{key:"rowwiseSum",value:function(){for(var r=[[]],e=0;e<this.rows;e+=1){for(var o=0,n=0;n<this.cols;n+=1)o+=this.data[e][n];r[0].push(o)}return new t(1,this.rows,r)}},{key:"flatten",value:function(){for(var t=[],r=0;r<this.rows;r+=1)for(var e=0;e<this.cols;e+=1)t.push(this.data[r][e]);return t}},{key:"replicate",value:function(r,e){if(1===r&&1===this.cols&&e>1){for(var o=[],n=0;n<this.rows;n+=1){o[n]=[];for(var i=0;i<e;i+=1)o[n][i]=this.data[n][0]}return t.from(o)}if(1===e&&1===this.rows&&r>1){for(var a=[],u=0;u<r;u+=1){a[u]=[];for(var c=0;c<this.cols;c+=1)a[u][c]=this.data[0][c]}return t.from(a)}return this}},{key:"transpose",value:function(){return D().execute("transpose",this)}},{key:"colMaxCoeffIndex",value:function(t){for(var r=-1,e=-1/0,o=0;o<this.rows;o+=1)this.data&&this.data[o][t]>e&&(e=this.data[o][t],r=o);return r}},{key:"rowMaxCoeffIndex",value:function(t){for(var r=-1,e=-1/0,o=0;o<this.cols;o+=1)this.data[t][o]>e&&(e=this.data[t][o],r=o);return r}},{key:"block",value:function(r,e,o,n){for(var i=[],a=r,u=0;a<this.rows&&a<r+o;a+=1,u+=1){i[u]=new Array(n);for(var c=e,f=0;c<this.cols&&c<e+n;c+=1,f+=1)i[u][f]=this.data[a][c]}return new t(o,n,i)}},{key:"col",value:function(r){for(var e=[],o=0;o<this.rows;o+=1)e[o]=[this.data[o][r]];return new t(this.rows,1,e)}},{key:"row",value:function(r){for(var e=[],o=0;o<this.cols;o+=1)e[o]=[this.data[r][o]];return new t(this.cols,1,e)}},{key:"setCol",value:function(t,r){for(var e=0;e<this.rows;e+=1)this.data&&r.data&&(this.data[e][t]=r.data[e][0]);return this}},{key:"sigmoid",value:function(){return this.multiply(-1).exp().add(1).fraction(1)}},{key:"rollToColMatrix",value:function(){for(var r=[],e=0,o=0;o<this.rows;o+=1)for(var n=0;n<this.cols;n+=1)r[e]=[],r[e++][0]=this.data[o][n];return t.from(r)}},{key:"abs",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.abs(this.data[e][o])}return t.from(r)}},{key:"mean",value:function(){for(var t=0,r=this.rows*this.cols,e=0;e<this.rows;e+=1)for(var o=0;o<this.cols;o+=1)t+=this.data[e][o];return t/r}},{key:"max",value:function(){for(var t=-1/0,r=0;r<this.rows;r+=1)for(var e=0;e<this.cols;e+=1)t=Math.max(this.data[r][e],t);return t}},{key:"setMax",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=Math.min(this.data[o][n],r)}return t.from(e)}},{key:"setMin",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=Math.max(this.data[o][n],r)}return t.from(e)}},{key:"setZeros",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=0}return t.from(r)}},{key:"setOnes",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=1}return t.from(r)}},{key:"setRandom",value:function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=(4*Math.random()-2)*Math.sqrt(2/r)}return t.from(e)}},{key:"fraction",value:function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=r/this.data[o][n]}return t.from(e)}},{key:"sqrt",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.sqrt(this.data[e][o]+1e-8)}return t.from(r)}},{key:"dot",value:function(t){return D().execute("multiply",this,t)}},{key:"multiply",value:function(r){if("number"==typeof r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]*r}return t.from(e)}if(r.rows!==this.rows||this.cols!==r.cols)throw new Error("Dimension error: ".concat(this.shape()," !== ").concat(r.shape()));for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]*r.data[a][u]}return t.from(i)}},{key:"subtract",value:function(r){if(r instanceof t){if(this.rows!==r.rows||this.cols!==r.cols)throw new Error("Dimensions error: ".concat(this.rows,", ").concat(this.cols," !== ").concat(r.rows,", ").concat(r.cols));for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]-r.data[o][n]}return t.from(e)}for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]-r}return t.from(i)}},{key:"forEach",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=r(this.data[o][n])}return t.from(e)}},{key:"shape",value:function(){return[this.rows,this.cols]}},{key:"divide",value:function(r){if("number"==typeof r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]/r}return t.from(e)}if(r.rows!==this.rows||r.cols!==this.cols)throw new Error("Dimensions error (".concat(this.rows,", ").concat(this.cols,") !== (").concat(r.rows,", ").concat(r.cols,")"));for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]/r.data[a][u]}return t.from(i)}},{key:"minusOne",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=1-this.data[e][o]}return t.from(r)}},{key:"subtractFromNumber",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=r-this.data[o][n]}return t.from(e)}},{key:"add",value:function(r){if("number"==typeof r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]+r}return t.from(e)}if(r instanceof t){if(r.rows!==this.rows||r.cols!==this.cols)throw new Error("Dimention error: rows (x: ".concat(this.rows,", y: ").concat(this.cols,") !== (x: ").concat(r.rows,", y: ").concat(r.cols,")"));for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]+r.data[a][u]}return t.from(i)}return this}},{key:"log",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.log(this.data[e][o]+1e-8)}return t.from(r)}},{key:"tanh",value:function(){return this.exp().subtract(this.multiply(-1).exp()).divide(this.exp().add(this.multiply(-1).exp()))}},{key:"softmax",value:function(){var t=this.max()-1e-8;return this.subtract(t).exp().divide(this.rowwiseSum().replicate(this.cols,1).transpose())}},{key:"exp",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.exp(this.data[e][o]+1e-8)}return t.from(r)}},{key:"pow",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=Math.pow(this.data[o][n],r)}return t.from(e)}},{key:"value",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0===e?this.data[t][r]:(this.data[t][r]=e,this)}},{key:"copy",value:function(){return t.from(this.data)}}],o=[{key:"from",value:function(r){var e;return new t(r.length,(null===(e=r[0])||void 0===e?void 0:e.length)||0,r)}}],e&&N(r.prototype,e),o&&N(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(),F={maxpool:function(t,r,e,o,n,i,a,u){for(var c=(o-i)/u+1,f=(e-n)/a+1,l=0,s=new I(c*f*r,1).setZeros(),y=0;y+n<=e;y+=a)for(var p=0;p+i<=o;p+=u){for(var v=0;v<r;v++){for(var b=-1/0,h=e*o*v,d=c*f*v,m=0;m<n;m++)for(var w=0;w<i;w++)b=Math.max(b,t.data[h+(m+y)*o+p+w][0]);s.data[d+l][0]=b}l++}return s},round:function(t,r){return Math.round((t+223e-18)*Math.pow(10,r))/Math.pow(10,r)},im2col:function(t,r,e,o,n,i,a,u,c,f){for(var l=0,s=new I(((o-i+2*u)/f+1)*((e-n+2*a)/c+1),i*n*r).setZeros(),y=-a;y+n<=e+a;y+=c)for(var p=-u;p+i<=o+u;p+=f){for(var v=0,b=0;b<r;b++)for(var h=e*o*b,d=0;d<n;d++)for(var m=0;m<i;m++)y+d>=0&&p+m>=0&&p+m<o&&y+d<e&&(s.data[l][v]=t.data[(d+y)*o+p+m+h][0]),v++;l++}return s}};t.exports=e})()}},r={};function e(o){var n=r[o];if(void 0!==n)return n.exports;var i=r[o]={exports:{}};return t[o](i,i.exports,e),i.exports}e.d=(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{"use strict";e.r(o),e.d(o,{Dataset:()=>Ft,DatasetBuilder:()=>It,DatasetBuilderSource:()=>Qt,DatasetModifier:()=>Lt});var t=e(568);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function i(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,u(o.key),o)}}function a(t,r,e){return(r=u(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function u(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===r(e)?e:String(e)}var c=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n(this,r),a(this,"exampleSize",0),a(this,"numberOfExamples",0),a(this,"data",null),this.exampleSize=e,this.numberOfExamples=o,i){for(var u=[],c=0;c<e;c+=1){u[c]=new Array(o);for(var f=0;f<o;f+=1)i[f]&&("string"==typeof i[f][c]&&/^[-0-9.e]+$/.test(i[f][c])?u[c][f]=Number(i[f][c]):"string"==typeof i[f][c]?u[c][f]=i[f][c].length?i[f][c]:NaN:"number"==typeof i[f][c]?u[c][f]=i[f][c]:u[c][f]=NaN)}this.data=new t.Matrix(this.exampleSize,this.numberOfExamples,u)}}var e,o,u;return e=r,o=[{key:"exampleAt",value:function(t){return this.data.col(t)}},{key:"getNumberOfExamples",value:function(){return this.numberOfExamples}},{key:"getExampleSize",value:function(){return this.exampleSize}},{key:"getBatch",value:function(t,e){var o=this.data.block(0,t,this.data.rows,e);return r.fromMatrix(o)}},{key:"insertColumnAfter",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this.data.copy();this.exampleSize=this.data.rows+r,this.data.resize(this.data.rows+r,this.data.cols);for(var o=0;o<this.data.rows;o+=1)for(var n=0;n<this.data.cols;n+=1)o<=t?this.data.data[o][n]=e.data[o][n]:o>t&&o<=t+r?this.data.data[o][n]=void 0:o>t+r&&(this.data.data[o][n]=e.data[o-r][n])}}],u=[{key:"fromMatrix",value:function(t){var e=new r;return e.exampleSize=t.rows,e.numberOfExamples=t.cols,e.data=t,e}}],o&&i(e.prototype,o),u&&i(e,u),Object.defineProperty(e,"prototype",{writable:!1}),r}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function l(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==f(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===f(n)?n:String(n)),o)}var n}var s=function(){function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,e;return r=t,e=[{key:"fromSource",value:function(t){return new Promise((function(r){t.then((function(t){var e=t.parse(),o=e.rows,n=e.cols,i=new c(n,o,e.data);r(i)}))}))}}],null&&l(r.prototype,null),e&&l(r,e),Object.defineProperty(r,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function p(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}function v(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,h(o.key),o)}}function b(t,r,e){return(r=h(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function h(t){var r=function(t,r){if("object"!==y(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(r)?r:String(r)}var d=function(){function r(t){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),b(this,"vocabularySize",0),b(this,"dataSize",0),b(this,"data",""),this.data=t.toLowerCase();var e,o=function(t){if(Array.isArray(t))return p(t)}(e=new Set(this.data.split("").sort()))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,r){if(t){if("string"==typeof t)return p(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();this.chars=o,this.dataSize=this.data.length,this.vocabularySize=o.length}var e,o;return e=r,o=[{key:"getExamples",value:function(){return this.data.replace(/\n+/,"\n").split("\n").map((function(t){return t+"\n"}))}},{key:"getVocabularySize",value:function(){return this.vocabularySize}},{key:"getCharsLength",value:function(){return this.chars.length}},{key:"getCharIndices",value:function(){var t={};return this.chars.forEach((function(r,e){t[r]=e})),t}},{key:"buildData",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=[],o=[],n=0;n<this.data.length-t;n+=r)e.push(this.data.substr(n,t)),o.push(this.data[n+t]);return[e,o]}},{key:"vectorization",value:function(r,e){var o=this,n=r.length,i=new Array(n),a=this.getCharIndices(),u=new t.Matrix(n,this.chars.length).setZeros();return r.forEach((function(r,n){i[n]=new t.Matrix(r.length,o.chars.length).setZeros(),r.split("").forEach((function(t,r){i[n].data[r][a[t]]=1})),u.data[n][a[e[n]]]=1})),[i,u]}},{key:"getChars",value:function(){return this.chars}},{key:"getExampleX",value:function(r){var e=this,o=this.getExamples()[r],n=[];return o.split("").forEach((function(t,r){n[r]=[e.getCharIndices()[t]]})),t.Matrix.from(n)}},{key:"getExampleY",value:function(r){var e=this,o=this.getExamples()[r],n=[];return o.split("").forEach((function(t,r){n[r]=[e.getCharIndices()[t]]})),t.Matrix.from(n)}}],o&&v(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),r}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function w(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==m(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===m(n)?n:String(n)),o)}var n}var g=function(){function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,e;return r=t,e=[{key:"fromSource",value:function(t){return new Promise((function(r){t.then((function(t){var e=t.parse();r(new d(e))}))}))}}],null&&w(r.prototype,null),e&&w(r,e),Object.defineProperty(r,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==S(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==S(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===S(n)?n:String(n)),o)}var n}function j(t,r,e){return r&&O(t.prototype,r),e&&O(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var P=j((function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)}));const k=require("csvtojson");function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function E(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,A(o.key),o)}}function _(t,r){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_(t,r)}function M(t,r){if(r&&("object"===x(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function C(t,r,e){return(r=A(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function A(t){var r=function(t,r){if("object"!==x(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===x(r)?r:String(r)}var D;!function(t){t[t.UnquotedField=0]="UnquotedField",t[t.QuotedField=1]="QuotedField",t[t.QuotedQuote=2]="QuotedQuote"}(D||(D={}));var K=function(r){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_(t,r)}(c,r);var e,o,n,i,a,u=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=R(i);if(a){var e=R(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return M(this,t)});function c(t){var r;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,c),C(T(r=u.call(this)),"data",null),C(T(r),"matrixData",null),r.data=t,r}return e=c,n=[{key:"fromLocalFile",value:function(t){return new Promise((function(r){k({noheader:!0,output:"csv"}).fromFile(t).then((function(t){r(new c(t))}))}))}}],(o=[{key:"parse",value:function(){var r=this.data.length,e=this.data[0].length;return void 0!==r&&void 0!==e?new t.Matrix(r,e,this.data):new t.Matrix(0,0,[[]])}}])&&E(e.prototype,o),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(P);const B=require("fs");function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function z(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==N(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==N(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===N(n)?n:String(n)),o)}var n}function q(t,r,e){return r&&z(t.prototype,r),e&&z(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function F(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,U(o.key),o)}}function L(t,r){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},L(t,r)}function Q(t,r){if(r&&("object"===I(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return W(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}function U(t){var r=function(t,r){if("object"!==I(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==I(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===I(r)?r:String(r)}var V=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&L(t,r)}(u,t);var r,e,o,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Z(n);if(i){var e=Z(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return Q(this,t)});function u(t){var r,e,o;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,u),e=W(r=a.call(this)),"",(o=U(o="data"))in e?Object.defineProperty(e,o,{value:"",enumerable:!0,configurable:!0,writable:!0}):e[o]="",r.data=t,r}return r=u,o=[{key:"fromLocalFile",value:function(t){return new Promise((function(r,e){B.readFile(t,(function(t,o){t?e(t):r(new u(o.toString("utf-8")))}))}))}}],(e=[{key:"parse",value:function(){return this.data}}])&&F(r.prototype,e),o&&F(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(q((function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)})));function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function X(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,G(o.key),o)}}function Y(t,r,e){return r&&X(t.prototype,r),e&&X(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t){var r=function(t,r){if("object"!==$(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==$(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===$(r)?r:String(r)}var H=Y((function t(r){var e,o;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,(o=G(o="dataset"))in e?Object.defineProperty(e,o,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[o]=null,this.dataset=r}));function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function tt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function rt(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,ut(o.key),o)}}function et(t,r){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},et(t,r)}function ot(t,r){if(r&&("object"===J(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function at(t,r,e){return(r=ut(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function ut(t){var r=function(t,r){if("object"!==J(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==J(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===J(r)?r:String(r)}var ct=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&et(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=it(o);if(n){var e=it(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return ot(this,t)});function a(){var t;tt(this,a);for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return at(nt(t=i.call.apply(i,[this].concat(e))),"callback",(function(t){return t})),t}return r=a,(e=[{key:"apply",value:function(){for(var t=0;t<this.dataset.getNumberOfExamples();t+=1)for(var r=this.callback(this.dataset.exampleAt(t)),e=0;e<this.dataset.data.rows;e+=1)r&&(this.dataset.data.data[e][t]=r.data[e][0]);return this.dataset}},{key:"setCallback",value:function(t){return this.callback=t,this}}])&&rt(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(H);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function lt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function st(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==ft(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==ft(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===ft(n)?n:String(n)),o)}var n}function yt(t,r){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},yt(t,r)}function pt(t,r){if(r&&("object"===ft(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}var bt=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&yt(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vt(o);if(n){var e=vt(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return pt(this,t)});function a(){return lt(this,a),i.apply(this,arguments)}return r=a,(e=[{key:"apply",value:function(t){for(var r=1/0,e=-1/0,o=0;o<t.getNumberOfExamples();o+=1)for(var n=t.exampleAt(o),i=0;i<n.rows;i+=1)r>n.data[i][0]&&(r=n.data[i][0]),e<n.data[i][0]&&(e=n.data[i][0]);for(var a=0;a<t.getNumberOfExamples();a+=1)for(var u=t.exampleAt(a),c=0;c<u.rows;c+=1)t.data.data[c][a]=(u.data[c][0]-r)/(e-r);return t}}])&&st(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(H);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function dt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function mt(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Pt(o.key),o)}}function wt(t,r){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},wt(t,r)}function gt(t,r){if(r&&("object"===ht(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return St(t)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}function jt(t,r,e){return(r=Pt(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Pt(t){var r=function(t,r){if("object"!==ht(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==ht(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ht(r)?r:String(r)}var kt=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&wt(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ot(o);if(n){var e=Ot(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return gt(this,t)});function a(){var t;dt(this,a);for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return jt(St(t=i.call.apply(i,[this].concat(e))),"modificationType","mean"),t}return r=a,(e=[{key:"apply",value:function(t){for(var r=[],e=0,o=0,n=0,i=0;i<t.getNumberOfExamples();i+=1)for(var a=t.exampleAt(i),u=0;u<t.getExampleSize();u+=1)isNaN(a.data[u][0])||"number"!=typeof a.data[u][0]?r.push({row:u,col:a}):(o+=a.data[u][0],e++);return"mean"===this.modificationType&&(n=o/e),r.forEach((function(r){var e=r.row,o=r.col;t.data.data[e][o]=n})),t}},{key:"setModificationType",value:function(t){return this.modificationType=t,this}}])&&mt(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(H);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Et(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Ct(o.key),o)}}function _t(t,r){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_t(t,r)}function Mt(t,r){if(r&&("object"===xt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Tt(t)}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rt(t){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rt(t)}function Ct(t){var r=function(t,r){if("object"!==xt(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==xt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===xt(r)?r:String(r)}var At=function(r){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_t(t,r)}(u,r);var e,o,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Rt(n);if(i){var e=Rt(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return Mt(this,t)});function u(t){var r,e,o,n;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,u),e=Tt(r=a.call(this,t)),n=[],(o=Ct(o="sortList"))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,r}return e=u,(o=[{key:"apply",value:function(r){var e=this,o=0,n=t.Matrix.from(r.data.transpose().data.sort((function(t,r){return void 0===e.sortList[o]&&(e.sortList[o]=Math.random()-.5),o+=1,e.sortList[o-1]}))).transpose().data;return new c(r.getExampleSize(),r.getNumberOfExamples(),n)}}])&&Et(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(H);function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Kt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}function Bt(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==Dt(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Dt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===Dt(n)?n:String(n)),o)}var n}function Nt(t,r){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Nt(t,r)}function zt(t,r){if(r&&("object"===Dt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var It={DatasetBuilder:s,DatasetVocabularyBuilder:g},Ft={Dataset:c},Lt={CallbackDatasetModifier:ct,MinMaxScalingDatasetModifier:bt,MissingDataScalingDatasetModifier:kt,ShuffleDatasetModifier:At,CategoryDatasetModifier:function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Nt(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=qt(o);if(n){var e=qt(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return zt(this,t)});function a(t){var r;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,null)).columns=t,r}return r=a,(e=[{key:"apply",value:function(t){var r=this,e=0,o=t;return this.columns.sort().forEach((function(t){var n,i,a=(n=r.applyForColumn(o,t+e),i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,n,i,a,u=[],c=!0,f=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(o=i.call(e)).done)&&(u.push(o.value),u.length!==r);c=!0);}catch(t){f=!0,n=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(f)throw n}}return u}}(n,i)||function(t,r){if(t){if("string"==typeof t)return Kt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Kt(t,r):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],c=a[1];e+=c,o=u})),t}},{key:"applyForColumn",value:function(t,r){for(var e=t.data.row(r),o=[],n=0;n<e.rows;n+=1)o.push(e.value(n,0));o=o.filter((function(t,r,e){return e.indexOf(t)===r})),t.insertColumnAfter(r,o.length-1);for(var i=0;i<t.data.cols;i+=1)for(var a=t.data.data[r][i],u=0,c=0;c<t.data.rows;c+=1)c>=r&&c<r+o.length&&(u===o.indexOf(a)?t.data.data[c][i]=1:t.data.data[c][i]=0,u+=1);return[t,o.length-1]}}])&&Bt(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(H)},Qt={DatasetBuilderSourceCSV:K,DatasetVocabularyBuilderSourceTextFile:V}})(),module.exports=o})();
//# sourceMappingURL=impulse-dataset-ts.js.map