(()=>{"use strict";var t={d:(r,e)=>{for(var o in e)t.o(e,o)&&!t.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:e[o]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function o(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,r){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},a(t,r)}function u(t,r){if(r&&("object"===i(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}t.r(r),t.d(r,{Dataset:()=>kr,DatasetBuilder:()=>Pr,DatasetBuilderSource:()=>xr,DatasetModifier:()=>Er});var f=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal.");if(t.cols!==r.cols)throw new Error("COLS number not equal.");for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=t.data[o][n]/r.data[o][n]}return new I(t.rows,r.cols,e)},l=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=t.data[o][n]/r}return new I(t.rows,t.cols,e)},s=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)r[e][o]=1/(1+Math.exp(-t.data[e][o]))}return I.from(r)},y=function(t,r){for(var e=[],o=0;o<r.rows;o+=1){e[o]=[];for(var n=0;n<r.cols;n+=1)r.data&&(e[o][n]=Math.log(r.data[o][n]+1e-8))}for(var i=k(new I(r.rows,r.cols,e),t),a=[],u=0;u<t.rows;u+=1){a[u]=[];for(var c=0;c<t.cols;c+=1)t.data&&(a[u][c]=1-t.data[u][c])}for(var f=new I(t.rows,t.cols,a),l=[],s=0;s<r.rows;s+=1){l[s]=[];for(var y=0;y<r.cols;y+=1)r.data&&(l[s][y]=Math.log(1-r.data[s][y]+1e-8))}var p=new I(r.rows,r.cols,l);return S(k(E(i,-1),t),k(E(p,-1),x(f,1))).sum()},p=function(t,r){return s(r).multiply(s(r).minusOne())},v=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)r[e][o]=(1-Math.exp(-2*t.data[e][o]))/(1+Math.exp(-2*t.data[e][o]))}return I.from(r)},b=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.max(0,t.data[e][o]))}return new I(t.rows,t.cols,r)},h=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=r.data[o][n]>0?1:0)}return k(new I(t.rows,t.cols,e),t)},d=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.log(1+Math.exp(t.data[e][o])))}return new I(t.rows,t.cols,r)},m=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.pow(t.data[e][o],2))}return new I(t.rows,t.cols,r).sum()},w=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)t.data&&(r[e][o]=Math.sqrt(t.data[e][o]+1e-8))}return new I(t.rows,t.cols,r)},g=function(t,r){if(t.cols!==r.rows)throw new Error("DIMENSIONS error. m1.cols ".concat(t.rows," ").concat(t.cols," !== m2.rows ").concat(r.rows," ").concat(r.cols,"."));for(var e=[],o=0;o<t.rows;++o){e[o]=new Array(r.cols);for(var n=0;n<r.cols;++n){e[o][n]=0;for(var i=0;i<t.cols;++i)t.data&&r.data&&(e[o][n]+=t.data[o][i]*r.data[i][n])}}return new I(t.rows,r.cols,e)},S=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal.");if(t.cols!==r.cols)throw new Error("COLS number not equal. m1.cols ".concat(t.cols," !== m2.cols ").concat(r.cols));for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&r.data&&(e[o][n]=t.data[o][n]+r.data[o][n])}return new I(t.rows,t.cols,e)},O=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal: m1.rows ".concat(t.rows," !== m2.rows ").concat(r.rows));if(t.cols!==r.cols)throw new Error("COLS number not equal: m1.cols ".concat(t.cols," !== m2.cols ").concat(r.cols));for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&r.data&&(e[o][n]=t.data[o][n]-r.data[o][n])}return new I(t.rows,t.cols,e)},j=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=(4*Math.random()-2)*Math.sqrt(2/r)}return new I(t.rows,t.cols,e)},P=function(t){for(var r=[],e=0;e<t.rows;e+=1){r[e]=[];for(var o=0;o<t.cols;o+=1)r[e][o]=0}return new I(t.rows,t.cols,r)},k=function(t,r){if(t.rows!==r.rows)throw new Error("ROWS number not equal: m1.rows ".concat(t.rows," !== m2.rows ").concat(r.rows));if(t.cols!==r.cols)throw new Error("COLS number not equal: m1.cols ".concat(t.cols," !== m2.cols ").concat(r.cols));for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&r.data&&(e[o][n]=t.data[o][n]*r.data[o][n])}return new I(t.rows,t.cols,e)},E=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=t.data[o][n]*r)}return new I(t.rows,t.cols,e)},x=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=r-t.data[o][n])}return new I(t.rows,t.cols,e)},_=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=Math.pow(t.data[o][n],r))}return new I(t.rows,t.cols,e)},T=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=Math.log(t.data[o][n]+1e-8))}return new I(t.rows,t.cols,e)},R=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)t.data&&(e[o][n]=Math.log(1-t.data[o][n]))}return new I(t.rows,t.cols,e)},M=function(t,r){for(var e=[],o=0;o<t.rows;o+=1){e[o]=[];for(var n=0;n<t.cols;n+=1)e[o][n]=t.data[o][n]+r}return new I(t.rows,t.cols,e)},C=function(t){for(var r=[],e=0;e<t.cols;e+=1){r[e]=[];for(var o=0;o<t.rows;o+=1)t.data&&(r[e][o]=t.data[o][e])}return new I(t.cols,t.rows,r)},A=new(function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&a(t,r)}(i,t);var r,e,o,n=(e=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=c(e);if(o){var n=c(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return u(this,t)});function i(){var t;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this)).addKernel("multiply",g),t.addKernel("add",S),t.addKernel("subtract",O),t.addKernel("subtractFromNumber",x),t.addKernel("fillRandom",j),t.addKernel("fillZeros",P),t.addKernel("elementWiseMultiply",k),t.addKernel("multiplyNumber",E),t.addKernel("elementWiseDivide",f),t.addKernel("divideNumber",l),t.addKernel("logisticActivation",s),t.addKernel("logisticLoss",y),t.addKernel("logisticBackpropagation",p),t.addKernel("tanhActivation",v),t.addKernel("reluActivation",b),t.addKernel("reluBackpropagation",h),t.addKernel("softplusActivation",d),t.addKernel("penalty",m),t.addKernel("sqrt",w),t.addKernel("transpose",C),t.addKernel("pow",_),t.addKernel("log",T),t.addKernel("logMinusOne",R),t.addKernel("addNumber",M),t}return r=i,Object.defineProperty(r,"prototype",{writable:!1}),r}(function(){function t(){var r,e,o;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o={},(e=n(e="kernels"))in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o}var r,e;return r=t,e=[{key:"addKernel",value:function(t,r){return this.kernels[t]=r,this}},{key:"execute",value:function(t){if(!this.kernels[t])throw new Error("Kernel '".concat(t,"' not exists."));for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return this.kernels[t].apply(null,e)}}],e&&o(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),t}())),D=function(){return A};function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function B(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function N(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,q(o.key),o)}}function z(t,r,e){return(r=q(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function q(t){var r=function(t,r){if("object"!==K(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==K(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===K(r)?r:String(r)}var I=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;B(this,t),z(this,"rows",0),z(this,"cols",0),z(this,"data",null),this.resize(r,e),o&&this.generateData(o)}var r,e,o;return r=t,e=[{key:"resize",value:function(t,r){this.rows=t,this.cols=r,this.data=new Array(this.rows);for(var e=0;e<this.rows;e+=1)this.data[e]=new Array(this.cols);return this}},{key:"generateData",value:function(t){for(var r=[],e=0;e<this.rows;e+=1)r[e]=new Array(this.cols);for(var o=0;o<this.cols;o+=1)for(var n=0;n<this.rows;n+=1)"number"==typeof t[n]?r[n][o]=t[n]:"string"==typeof t[n][o]&&/^[0-9.]+$/.test(String(t[n][o]))?r[n][o]=Number(t[n][o]):r[n][o]=t[n][o];return this.data=r,this}},{key:"sum",value:function(){for(var t=0,r=0;r<this.rows;r+=1)for(var e=0;e<this.cols;e+=1)t+=this.data[r][e];return t}},{key:"colwiseSum",value:function(){for(var r=[],e=this.transpose(),o=0;o<e.rows;o+=1){r[o]=[0];for(var n=0;n<e.cols;n+=1)r[o][0]+=e.data[o][n]}return new t(this.cols,1,r)}},{key:"rowwiseSum",value:function(){for(var r=[[]],e=0;e<this.rows;e+=1){for(var o=0,n=0;n<this.cols;n+=1)o+=this.data[e][n];r[0].push(o)}return new t(1,this.rows,r)}},{key:"flatten",value:function(){for(var t=[],r=0;r<this.rows;r+=1)for(var e=0;e<this.cols;e+=1)t.push(this.data[r][e]);return t}},{key:"replicate",value:function(r,e){if(1===r&&1===this.cols&&e>1){for(var o=[],n=0;n<this.rows;n+=1){o[n]=[];for(var i=0;i<e;i+=1)o[n][i]=this.data[n][0]}return t.from(o)}if(1===e&&1===this.rows&&r>1){for(var a=[],u=0;u<r;u+=1){a[u]=[];for(var c=0;c<this.cols;c+=1)a[u][c]=this.data[0][c]}return t.from(a)}return this}},{key:"transpose",value:function(){return D().execute("transpose",this)}},{key:"colMaxCoeffIndex",value:function(t){for(var r=-1,e=-1/0,o=0;o<this.rows;o+=1)this.data&&this.data[o][t]>e&&(e=this.data[o][t],r=o);return r}},{key:"rowMaxCoeffIndex",value:function(t){for(var r=-1,e=-1/0,o=0;o<this.cols;o+=1)this.data[t][o]>e&&(e=this.data[t][o],r=o);return r}},{key:"block",value:function(r,e,o,n){for(var i=[],a=r,u=0;a<this.rows&&a<r+o;a+=1,u+=1){i[u]=new Array(n);for(var c=e,f=0;c<this.cols&&c<e+n;c+=1,f+=1)i[u][f]=this.data[a][c]}return new t(o,n,i)}},{key:"col",value:function(r){for(var e=[],o=0;o<this.rows;o+=1)e[o]=[this.data[o][r]];return new t(this.rows,1,e)}},{key:"row",value:function(r){for(var e=[],o=0;o<this.cols;o+=1)e[o]=[this.data[r][o]];return new t(this.cols,1,e)}},{key:"setCol",value:function(t,r){for(var e=0;e<this.rows;e+=1)this.data&&r.data&&(this.data[e][t]=r.data[e][0]);return this}},{key:"sigmoid",value:function(){return this.multiply(-1).exp().add(1).fraction(1)}},{key:"rollToColMatrix",value:function(){for(var r=[],e=0,o=0;o<this.rows;o+=1)for(var n=0;n<this.cols;n+=1)r[e]=[],r[e++][0]=this.data[o][n];return t.from(r)}},{key:"abs",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.abs(this.data[e][o])}return t.from(r)}},{key:"mean",value:function(){for(var t=0,r=this.rows*this.cols,e=0;e<this.rows;e+=1)for(var o=0;o<this.cols;o+=1)t+=this.data[e][o];return t/r}},{key:"max",value:function(){for(var t=-1/0,r=0;r<this.rows;r+=1)for(var e=0;e<this.cols;e+=1)t=Math.max(this.data[r][e],t);return t}},{key:"setMax",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=Math.min(this.data[o][n],r)}return t.from(e)}},{key:"setMin",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=Math.max(this.data[o][n],r)}return t.from(e)}},{key:"setZeros",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=0}return t.from(r)}},{key:"setOnes",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=1}return t.from(r)}},{key:"setRandom",value:function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=(4*Math.random()-2)*Math.sqrt(2/r)}return t.from(e)}},{key:"fraction",value:function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=r/this.data[o][n]}return t.from(e)}},{key:"sqrt",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.sqrt(this.data[e][o]+1e-8)}return t.from(r)}},{key:"dot",value:function(t){return D().execute("multiply",this,t)}},{key:"multiply",value:function(r){if("number"==typeof r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]*r}return t.from(e)}if(r.rows!==this.rows||this.cols!==r.cols)throw new Error("Dimension error: ".concat(this.shape()," !== ").concat(r.shape()));for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]*r.data[a][u]}return t.from(i)}},{key:"subtract",value:function(r){if(r instanceof t){if(this.rows!==r.rows||this.cols!==r.cols)throw new Error("Dimensions error: ".concat(this.rows,", ").concat(this.cols," !== ").concat(r.rows,", ").concat(r.cols));for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]-r.data[o][n]}return t.from(e)}for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]-r}return t.from(i)}},{key:"forEach",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=r(this.data[o][n])}return t.from(e)}},{key:"shape",value:function(){return[this.rows,this.cols]}},{key:"divide",value:function(r){if("number"==typeof r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]/r}return t.from(e)}if(r.rows!==this.rows||r.cols!==this.cols)throw new Error("Dimensions error (".concat(this.rows,", ").concat(this.cols,") !== (").concat(r.rows,", ").concat(r.cols,")"));for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]/r.data[a][u]}return t.from(i)}},{key:"minusOne",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=1-this.data[e][o]}return t.from(r)}},{key:"subtractFromNumber",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=r-this.data[o][n]}return t.from(e)}},{key:"add",value:function(r){if("number"==typeof r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=this.data[o][n]+r}return t.from(e)}if(r instanceof t){if(r.rows!==this.rows||r.cols!==this.cols)throw new Error("Dimention error: rows (x: ".concat(this.rows,", y: ").concat(this.cols,") !== (x: ").concat(r.rows,", y: ").concat(r.cols,")"));for(var i=[],a=0;a<this.rows;a+=1){i[a]=[];for(var u=0;u<this.cols;u+=1)i[a][u]=this.data[a][u]+r.data[a][u]}return t.from(i)}return this}},{key:"log",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.log(this.data[e][o]+1e-8)}return t.from(r)}},{key:"tanh",value:function(){return this.exp().subtract(this.multiply(-1).exp()).divide(this.exp().add(this.multiply(-1).exp()))}},{key:"softmax",value:function(){var t=this.max()-1e-8;return this.subtract(t).exp().divide(this.rowwiseSum().replicate(this.cols,1).transpose())}},{key:"exp",value:function(){for(var r=[],e=0;e<this.rows;e+=1){r[e]=[];for(var o=0;o<this.cols;o+=1)r[e][o]=Math.exp(this.data[e][o]+1e-8)}return t.from(r)}},{key:"pow",value:function(r){for(var e=[],o=0;o<this.rows;o+=1){e[o]=[];for(var n=0;n<this.cols;n+=1)e[o][n]=Math.pow(this.data[o][n],r)}return t.from(e)}},{key:"value",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0===e?this.data[t][r]:(this.data[t][r]=e,this)}},{key:"copy",value:function(){return t.from(this.data)}}],o=[{key:"from",value:function(r){var e;return new t(r.length,(null===(e=r[0])||void 0===e?void 0:e.length)||0,r)}}],e&&N(r.prototype,e),o&&N(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function L(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Q(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,U(o.key),o)}}function W(t,r,e){return(r=U(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function U(t){var r=function(t,r){if("object"!==F(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==F(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===F(r)?r:String(r)}var V=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(L(this,t),W(this,"exampleSize",0),W(this,"numberOfExamples",0),W(this,"data",null),this.exampleSize=r,this.numberOfExamples=e,o){for(var n=[],i=0;i<r;i+=1){n[i]=new Array(e);for(var a=0;a<e;a+=1)o[a]&&("string"==typeof o[a][i]&&/^[-0-9.e]+$/.test(o[a][i])?n[i][a]=Number(o[a][i]):"string"==typeof o[a][i]?n[i][a]=o[a][i].length?o[a][i]:NaN:"number"==typeof o[a][i]?n[i][a]=o[a][i]:n[i][a]=NaN)}this.data=new I(this.exampleSize,this.numberOfExamples,n)}}var r,e,o;return r=t,e=[{key:"exampleAt",value:function(t){return this.data.col(t)}},{key:"getNumberOfExamples",value:function(){return this.numberOfExamples}},{key:"getExampleSize",value:function(){return this.exampleSize}},{key:"getBatch",value:function(r,e){var o=this.data.block(0,r,this.data.rows,e);return t.fromMatrix(o)}},{key:"insertColumnAfter",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this.data.copy();this.exampleSize=this.data.rows+r,this.data.resize(this.data.rows+r,this.data.cols);for(var o=0;o<this.data.rows;o+=1)for(var n=0;n<this.data.cols;n+=1)o<=t?this.data.data[o][n]=e.data[o][n]:o>t&&o<=t+r?this.data.data[o][n]=void 0:o>t+r&&(this.data.data[o][n]=e.data[o-r][n])}}],o=[{key:"fromMatrix",value:function(r){var e=new t;return e.exampleSize=r.rows,e.numberOfExamples=r.cols,e.data=r,e}}],e&&Q(r.prototype,e),o&&Q(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function $(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==Z(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===Z(n)?n:String(n)),o)}var n}var X=function(){function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,e;return r=t,e=[{key:"fromSource",value:function(t){return new Promise((function(r){t.then((function(t){var e=t.parse(),o=e.rows,n=e.cols,i=new V(n,o,e.data);r(i)}))}))}}],null&&$(r.prototype,null),e&&$(r,e),Object.defineProperty(r,"prototype",{writable:!1}),t}();function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function G(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}function H(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,tt(o.key),o)}}function J(t,r,e){return(r=tt(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function tt(t){var r=function(t,r){if("object"!==Y(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Y(r)?r:String(r)}var rt=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,"vocabularySize",0),J(this,"dataSize",0),J(this,"data",""),this.data=r.toLowerCase();var e,o=function(t){if(Array.isArray(t))return G(t)}(e=new Set(this.data.split("").sort()))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,r){if(t){if("string"==typeof t)return G(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?G(t,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();this.chars=o,this.dataSize=this.data.length,this.vocabularySize=o.length}var r,e;return r=t,e=[{key:"getExamples",value:function(){return this.data.replace(/\n+/,"\n").split("\n").map((function(t){return t+"\n"}))}},{key:"getVocabularySize",value:function(){return this.vocabularySize}},{key:"getCharsLength",value:function(){return this.chars.length}},{key:"getCharIndices",value:function(){var t={};return this.chars.forEach((function(r,e){t[r]=e})),t}},{key:"buildData",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=[],o=[],n=0;n<this.data.length-t;n+=r)e.push(this.data.substr(n,t)),o.push(this.data[n+t]);return[e,o]}},{key:"vectorization",value:function(t,r){var e=this,o=t.length,n=new Array(o),i=this.getCharIndices(),a=new I(o,this.chars.length).setZeros();return t.forEach((function(t,o){n[o]=new I(t.length,e.chars.length).setZeros(),t.split("").forEach((function(t,r){n[o].data[r][i[t]]=1})),a.data[o][i[r[o]]]=1})),[n,a]}},{key:"getChars",value:function(){return this.chars}},{key:"getExampleX",value:function(t){var r=this,e=this.getExamples()[t],o=[];return e.split("").forEach((function(t,e){o[e]=[r.getCharIndices()[t]]})),I.from(o)}},{key:"getExampleY",value:function(t){var r=this,e=this.getExamples()[t],o=[];return e.split("").forEach((function(t,e){o[e]=[r.getCharIndices()[t]]})),I.from(o)}}],e&&H(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),t}();function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function ot(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==et(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==et(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===et(n)?n:String(n)),o)}var n}var nt=function(){function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,e;return r=t,e=[{key:"fromSource",value:function(t){return new Promise((function(r){t.then((function(t){var e=t.parse();r(new rt(e))}))}))}}],null&&ot(r.prototype,null),e&&ot(r,e),Object.defineProperty(r,"prototype",{writable:!1}),t}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==it(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==it(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===it(n)?n:String(n)),o)}var n}function ut(t,r,e){return r&&at(t.prototype,r),e&&at(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var ct=ut((function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)}));const ft=require("csvtojson");function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function st(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,dt(o.key),o)}}function yt(t,r){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},yt(t,r)}function pt(t,r){if(r&&("object"===lt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return vt(t)}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}function ht(t,r,e){return(r=dt(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function dt(t){var r=function(t,r){if("object"!==lt(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==lt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===lt(r)?r:String(r)}var mt;!function(t){t[t.UnquotedField=0]="UnquotedField",t[t.QuotedField=1]="QuotedField",t[t.QuotedQuote=2]="QuotedQuote"}(mt||(mt={}));var wt=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&yt(t,r)}(u,t);var r,e,o,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=bt(n);if(i){var e=bt(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return pt(this,t)});function u(t){var r;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,u),ht(vt(r=a.call(this)),"data",null),ht(vt(r),"matrixData",null),r.data=t,r}return r=u,o=[{key:"fromLocalFile",value:function(t){return new Promise((function(r){ft({noheader:!0,output:"csv"}).fromFile(t).then((function(t){r(new u(t))}))}))}}],(e=[{key:"parse",value:function(){var t=this.data.length,r=this.data[0].length;return void 0!==t&&void 0!==r?new I(t,r,this.data):new I(0,0,[[]])}}])&&st(r.prototype,e),o&&st(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(ct);const gt=require("fs");function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function Ot(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==St(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==St(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===St(n)?n:String(n)),o)}var n}function jt(t,r,e){return r&&Ot(t.prototype,r),e&&Ot(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function kt(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Rt(o.key),o)}}function Et(t,r){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Et(t,r)}function xt(t,r){if(r&&("object"===Pt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}function Rt(t){var r=function(t,r){if("object"!==Pt(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Pt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Pt(r)?r:String(r)}var Mt=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Et(t,r)}(u,t);var r,e,o,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Tt(n);if(i){var e=Tt(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return xt(this,t)});function u(t){var r,e,o;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,u),e=_t(r=a.call(this)),"",(o=Rt(o="data"))in e?Object.defineProperty(e,o,{value:"",enumerable:!0,configurable:!0,writable:!0}):e[o]="",r.data=t,r}return r=u,o=[{key:"fromLocalFile",value:function(t){return new Promise((function(r,e){gt.readFile(t,(function(t,o){t?e(t):r(new u(o.toString("utf-8")))}))}))}}],(e=[{key:"parse",value:function(){return this.data}}])&&kt(r.prototype,e),o&&kt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(jt((function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)})));function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function At(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Kt(o.key),o)}}function Dt(t,r,e){return r&&At(t.prototype,r),e&&At(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(t){var r=function(t,r){if("object"!==Ct(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Ct(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ct(r)?r:String(r)}var Bt=Dt((function t(r){var e,o;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,(o=Kt(o="dataset"))in e?Object.defineProperty(e,o,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[o]=null,this.dataset=r}));function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function zt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function qt(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Ut(o.key),o)}}function It(t,r){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},It(t,r)}function Ft(t,r){if(r&&("object"===Nt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Lt(t)}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}function Wt(t,r,e){return(r=Ut(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Ut(t){var r=function(t,r){if("object"!==Nt(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Nt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Nt(r)?r:String(r)}var Vt=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&It(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Qt(o);if(n){var e=Qt(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return Ft(this,t)});function a(){var t;zt(this,a);for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return Wt(Lt(t=i.call.apply(i,[this].concat(e))),"callback",(function(t){return t})),t}return r=a,(e=[{key:"apply",value:function(){for(var t=0;t<this.dataset.getNumberOfExamples();t+=1)for(var r=this.callback(this.dataset.exampleAt(t)),e=0;e<this.dataset.data.rows;e+=1)r&&(this.dataset.data.data[e][t]=r.data[e][0]);return this.dataset}},{key:"setCallback",value:function(t){return this.callback=t,this}}])&&qt(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(Bt);function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function $t(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Xt(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==Zt(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==Zt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===Zt(n)?n:String(n)),o)}var n}function Yt(t,r){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Yt(t,r)}function Gt(t,r){if(r&&("object"===Zt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ht(t)}var Jt=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Yt(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ht(o);if(n){var e=Ht(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return Gt(this,t)});function a(){return $t(this,a),i.apply(this,arguments)}return r=a,(e=[{key:"apply",value:function(t){for(var r=1/0,e=-1/0,o=0;o<t.getNumberOfExamples();o+=1)for(var n=t.exampleAt(o),i=0;i<n.rows;i+=1)r>n.data[i][0]&&(r=n.data[i][0]),e<n.data[i][0]&&(e=n.data[i][0]);for(var a=0;a<t.getNumberOfExamples();a+=1)for(var u=t.exampleAt(a),c=0;c<u.rows;c+=1)t.data.data[c][a]=(u.data[c][0]-r)/(e-r);return t}}])&&Xt(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(Bt);function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function rr(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function er(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,cr(o.key),o)}}function or(t,r){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},or(t,r)}function nr(t,r){if(r&&("object"===tr(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ir(t)}function ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ar(t)}function ur(t,r,e){return(r=cr(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function cr(t){var r=function(t,r){if("object"!==tr(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==tr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===tr(r)?r:String(r)}var fr=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&or(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ar(o);if(n){var e=ar(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return nr(this,t)});function a(){var t;rr(this,a);for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return ur(ir(t=i.call.apply(i,[this].concat(e))),"modificationType","mean"),t}return r=a,(e=[{key:"apply",value:function(t){for(var r=[],e=0,o=0,n=0,i=0;i<t.getNumberOfExamples();i+=1)for(var a=t.exampleAt(i),u=0;u<t.getExampleSize();u+=1)isNaN(a.data[u][0])||"number"!=typeof a.data[u][0]?r.push({row:u,col:a}):(o+=a.data[u][0],e++);return"mean"===this.modificationType&&(n=o/e),r.forEach((function(r){var e=r.row,o=r.col;t.data.data[e][o]=n})),t}},{key:"setModificationType",value:function(t){return this.modificationType=t,this}}])&&er(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(Bt);function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function sr(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,hr(o.key),o)}}function yr(t,r){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},yr(t,r)}function pr(t,r){if(r&&("object"===lr(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return vr(t)}function vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}function hr(t){var r=function(t,r){if("object"!==lr(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==lr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===lr(r)?r:String(r)}var dr=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&yr(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=br(o);if(n){var e=br(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return pr(this,t)});function a(t){var r,e,o,n;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a),e=vr(r=i.call(this,t)),n=[],(o=hr(o="sortList"))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,r}return r=a,(e=[{key:"apply",value:function(t){var r=this,e=0,o=I.from(t.data.transpose().data.sort((function(t,o){return void 0===r.sortList[e]&&(r.sortList[e]=Math.random()-.5),e+=1,r.sortList[e-1]}))).transpose().data;return new V(t.getExampleSize(),t.getNumberOfExamples(),o)}}])&&sr(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(Bt);function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function wr(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}function gr(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,r){if("object"!==mr(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==mr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===mr(n)?n:String(n)),o)}var n}function Sr(t,r){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Sr(t,r)}function Or(t,r){if(r&&("object"===mr(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jr(t)}var Pr={DatasetBuilder:X,DatasetVocabularyBuilder:nt},kr={Dataset:V},Er={CallbackDatasetModifier:Vt,MinMaxScalingDatasetModifier:Jt,MissingDataScalingDatasetModifier:fr,ShuffleDatasetModifier:dr,CategoryDatasetModifier:function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Sr(t,r)}(a,t);var r,e,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=jr(o);if(n){var e=jr(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return Or(this,t)});function a(t){var r;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,null)).columns=t,r}return r=a,(e=[{key:"apply",value:function(t){var r=this,e=0,o=t;return this.columns.sort().forEach((function(t){var n,i,a=(n=r.applyForColumn(o,t+e),i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,n,i,a,u=[],c=!0,f=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(o=i.call(e)).done)&&(u.push(o.value),u.length!==r);c=!0);}catch(t){f=!0,n=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(f)throw n}}return u}}(n,i)||function(t,r){if(t){if("string"==typeof t)return wr(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?wr(t,r):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],c=a[1];e+=c,o=u})),t}},{key:"applyForColumn",value:function(t,r){for(var e=t.data.row(r),o=[],n=0;n<e.rows;n+=1)o.push(e.value(n,0));o=o.filter((function(t,r,e){return e.indexOf(t)===r})),t.insertColumnAfter(r,o.length-1);for(var i=0;i<t.data.cols;i+=1){var a=t.data.data[r][i];console.log(a);for(var u=0,c=0;c<t.data.rows;c+=1)c>=r&&c<r+o.length&&(u===o.indexOf(a)?t.data.data[c][i]=1:t.data.data[c][i]=0,u+=1)}return[t,o.length-1]}}])&&gr(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),a}(Bt)},xr={DatasetBuilderSourceCSV:wt,DatasetVocabularyBuilderSourceTextFile:Mt};module.exports=r})();
//# sourceMappingURL=impulse-dataset-ts.js.map